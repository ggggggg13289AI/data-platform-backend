---
description: Pydantic/Ninja Schema 規則（本專案，Django Ninja）
globs: "studies/*_api.py", "studies/schemas.py"
priority: high
category: pydantic
alwaysApply: true
dependencies: ["django-ninja-route-rules.mdc"]
---

# Pydantic/Ninja Schema 規則

## 版本與相容
- 使用 Pydantic v1 風格（`BaseModel`、`Config.orm_mode=True`）
- 不使用 v2 專屬設定（如 `model_config`）

## 命名與欄位
- 欄位名稱與 API 文件一致（見 `API_DOCUMENTATION.md`）
- Datetime 以 `str`（ISO 8601）呈現
- 回應模型：
  - Report 列表：`ReportResponse`
  - Report 詳情：`ReportDetailResponse`
  - 版本歷史：`ReportVersionResponse`

## 分頁回應形狀（重要）
- Reports：`{ items, total, page, page_size, pages }`
- Studies：`{ items, count, filters }`
- Projects：`{ items, count }`

## 禁止
- 禁止以原始 dict 當作公共 API 模型（除非極小型工具端點）
