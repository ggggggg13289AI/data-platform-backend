---
description: Linus 風格的實用主義程式碼品質規則（Django 後端）
globs: "**/*.py"
priority: high
category: code-quality
alwaysApply: true
---

# Linus 風格程式碼品質（精要）

## 檢查清單
1. 縮排不超過 3 層；超過就重構（Early return / 拆函數）
2. if/else 鏈不超過 3 段；用資料結構取代分支
3. 函數過長（>20 行）考慮拆分；名稱必須清晰可讀
4. 別解決不存在的問題：拒絕過度抽象與無用工廠
5. 資料結構驅動設計；消除特殊情況

## 反模式（拒收）
- 深度巢狀、魔術數字、含糊命名
- 捕獲所有例外卻不處理或隱藏
- 在路由層寫複雜邏輯（應移至 Service）
